import * as React from 'react';

const dictionaries = {
  ar: {
    // General
    processing: 'جاري المعالجة...',

    nav_home: 'الرئيسية',
    nav_products: 'المنتجات',
    nav_login: 'تسجيل الدخول',
    nav_register: 'إنشاء حساب',
    nav_profile: 'الملف الشخصي',
    nav_account: 'الحساب',
    nav_logout: 'تسجيل الخروج',
    nav_cart: 'السلة',

    footer_store: 'المتجر',
    footer_help: 'المساعدة',
    footer_newsletter: 'النشرة البريدية',
    footer_privacy: 'الخصوصية',
    footer_terms: 'الشروط',
    footer_cookies: 'الكوكيز',
    footer_all_rights: 'جميع الحقوق محفوظة لكاشوب.',
    footer_home: 'الرئيسية',
    footer_cart: 'السلة',
    footer_register: 'إنشاء حساب',
    footer_login: 'تسجيل الدخول',
    footer_faq: 'الأسئلة الشائعة',
    footer_returns: 'المرجعات',
    footer_shipping: 'الشحن',
    footer_contact: 'تواصل معنا',
    footer_subscribe_text: 'اشترك لتصلك آخر التحديثات والعروض.',
    footer_subscribe_btn: 'اشتراك',
    footer_email_placeholder: 'بريدك الإلكتروني',

    lang_toggle: 'English',

    // Home
    home_why_us: 'لماذا تختارنا؟',
    home_features_desc: 'مميزات تجعل تجربة التسوق لديك أسهل وأجمل',
    feature_fast_shipping: 'توصيل سريع',
    feature_fast_shipping_desc: 'نوصل طلباتك خلال وقت قياسي',
    feature_secure_payment: 'دفع آمن',
    feature_secure_payment_desc: 'بوابات دفع موثوقة ومشفرة',
    feature_easy_returns: 'إرجاع سهل',
    feature_easy_returns_desc: 'سياسة استرجاع مرنة',
    feature_support: 'دعم فني',
    feature_support_desc: 'خدمة عملاء على مدار الساعة',
    promo_title: 'عروض خاصة هذا الأسبوع',
    promo_subtitle: 'خصومات على مختارات من أفضل المنتجات – لا تفوّت الفرصة!',
    promo_cta: 'تسوّق الآن',
    about_title: 'من أنا',
    about_p1: 'أنا كا-شوب، متجر إلكتروني يقدّم منتجات مختارة بعناية وتجربة استخدام سلسة.',
    about_p2: 'هدفنا نوصل لك أفضل جودة بأفضل سعر وبأسلوب بسيط وواضح.',
    about_stats_products: '+500 منتج',
    about_stats_customers: '+10k عميل',
    about_stats_rating: '+4.8 تقييم',
    contact_title: 'تواصل معنا',
    contact_subtitle: 'يسعدنا سماع رأيك – أرسل رسالتك وسيتم الرد بأقرب وقت',
    contact_name: 'الاسم',
    contact_email: 'البريد الإلكتروني',
    contact_subject: 'الموضوع',
    contact_message: 'الرسالة',
    contact_send: 'إرسال',
    contact_email_us: 'راسلنا بالبريد',

    // Hero
    hero1_title: 'خصومات تصل إلى 50% على مختاراتنا',
    hero1_sub: 'تسوّق الآن واستفد من أقوى العروض الموسمية',
    hero1_cta: 'ابدأ التسوّق',
    hero2_title: 'تجربة سلسة وسريعة على كل الأجهزة',
    hero2_sub: 'واجهة عربية واضحة مع توصيل سريع وخيارات دفع آمنة',
    hero2_cta: 'استكشف المنتجات',
    hero3_title: 'منتجات أصلية بضمان واستبدال',
    hero3_sub: 'اطمئن! جميع المنتجات بضمان وجودة مضمونة',
    hero3_cta: 'شاهد العروض',
    browse_categories: 'تصفّح الأقسام',

    // ProductList
    add_to_cart: 'أضف إلى السلة',
    added_to_cart: 'تمت الإضافة',

    // Cart
    cart_title: 'سلة التسوق',
    back: 'العودة',
    clear_cart: 'مسح السلة',
    items_in_cart: (n) => `${n} منتج في السلة`,
    browse_products: 'تصفح المنتجات',
    subtotal: 'المجموع الفرعي',
    shipping_fee: 'رسوم التوصيل',
    free: 'مجاني',
    add_for_free_shipping: (amount) => `أضف ${amount}$ للحصول على توصيل مجاني`,
    total: 'المجموع الكلي',
    proceed_checkout: 'متابعة للدفع',
    continue_shopping: 'متابعة التسوق',

    // Auth
    login_title: 'تسجيل الدخول',
    login_sub: 'ادخل إلى حسابك للمتابعة',
    email_label: 'البريد الإلكتروني',
    email_placeholder: 'أدخل بريدك الإلكتروني',
    password_label: 'كلمة المرور',
    password_placeholder: 'أدخل كلمة المرور',
    remember_me: 'تذكرني',
    forgot_password: 'نسيت كلمة المرور؟',
    login_btn: 'تسجيل الدخول',
    dont_have_account: 'لا تملك حساباً؟',
    register_link: 'إنشاء حساب',
    login_pending: 'جاري المعالجة...',
    login_success: 'تم تسجيل الدخول بنجاح',
    login_failed: 'فشل تسجيل الدخول',

    register_title: 'إنشاء حساب',
    register_sub: 'انضم إلينا وابدأ التسوق بذكاء',
    full_name_label: 'الاسم الكامل',
    full_name_placeholder: 'اكتب اسمك الكامل',
    username_label: 'اسم المستخدم',
    username_placeholder: 'اختر اسم مستخدم',
    phone_label: 'رقم الهاتف',
    phone_placeholder: '05XXXXXXXX',
    create_password_placeholder: 'أنشئ كلمة مرور',
    terms_text: 'أوافق على الشروط والخصوصية',
    register_btn: 'إنشاء حساب',
    already_have_account: 'لديك حساب بالفعل؟',
    login_link: 'تسجيل الدخول',
    register_pending: 'جاري المعالجة...',
    register_success: 'تم إنشاء الحساب بنجاح',
    register_failed: 'فشل إنشاء الحساب',

    forgot_title: 'نسيت كلمة المرور',
    forgot_sub: 'أدخل بريدك الإلكتروني وسنرسل لك رابط الاستعادة.',
    send_reset_link: 'أرسل رابط الاستعادة',
    remembered_password: 'تذكرت كلمة المرور؟',
    back_to_login: 'العودة لتسجيل الدخول',
    forgot_pending: 'جاري إرسال رابط الاستعادة...',
    forgot_success: 'تم إرسال رابط الاستعادة بنجاح',
    forgot_failed: 'فشل إرسال رابط الاستعادة',

    reset_title: 'إعادة تعيين كلمة المرور',
    reset_sub: 'تحقق من الرمز الذي أُرسل إلى بريدك الإلكتروني، ثم عيّن كلمة مرور جديدة.',
    code_label: 'الرمز',
    code_placeholder: 'أدخل الرمز',
    new_password_label: 'كلمة المرور الجديدة',
    new_password_placeholder: 'أدخل كلمة مرور جديدة',
    verify_code_btn: 'تحقق من الرمز',
    verifying: 'جاري التحقق...',
    set_new_password_btn: 'تعيين كلمة مرور جديدة',
    reset_verify_pending: 'جاري التحقق من الرمز...',
    reset_verify_success: 'تم التحقق من الرمز، قم بتعيين كلمة مرور جديدة',
    reset_verify_failed: 'رمز غير صالح',
    reset_pending: 'جاري تحديث كلمة المرور...',
    reset_success: 'تم تحديث كلمة المرور. يمكنك تسجيل الدخول الآن',
    reset_failed: 'فشل تحديث كلمة المرور',

    // Product
    product_loading: 'جارِ التحميل...',
    product_not_available: 'المنتج غير متاح',
    product_details: 'تفاصيل المنتج',
    product_details_subtitle: 'اكتشف كل التفاصيل والمميزات الخاصة بهذا المنتج المميز',
    fast_delivery: 'توصيل سريع',
    fast_delivery_time: 'خلال 24-48 ساعة',
    free_returns: 'استرجاع مجاني',
    free_returns_time: 'خلال 14 يوم',
    product_rating: 'تقييم المنتج',
    stars: 'نجوم',
    available_now: 'متوفر الآن',
    pieces: 'قطعة',
    discount: 'خصم',
    why_choose_product: 'لماذا تختار هذا المنتج؟',
    why_choose_desc: 'منتج عالي الجودة من {brand} في قسم {category}. يتميز بتصميم عصري وجودة ممتازة مع ضمان الرضا التام. {discount_text}',
    quantity: 'الكمية:',
    available: 'متوفر',
    total_price: 'السعر الإجمالي:',
    you_saved: 'وفرت:',
    add_to_cart: 'أضف إلى السلة',
    added_to_cart: 'تم الإضافة',
    buy_now: 'اشتري الآن',
    similar_products: 'منتجات مشابهة',
    total_price_mobile: 'السعر الإجمالي',
    added: 'تم',
    add: 'أضف',
    copy_link: 'تم نسخ الرابط',
    add_for_free_shipping: 'أضف للحصول على توصيل مجاني',

    // Products
    explore_products: 'استكشف منتجاتنا',
    explore_products_subtitle: 'تشكيلات مختارة بعناية بتصاميم عصرية وجودة عالية.',
    search: 'بحث',
    price: 'السعر',
    min_rating: 'الحد الأدنى للتقييم',
    sort: 'ترتيب',
    offers_only: 'عروض فقط',
    all: 'الكل',
    results: 'النتائج',
    our_new: 'جديدنا',
    highest_rated: 'الأعلى تقييمًا',
    price_low_to_high: 'السعر: من الأقل للأعلى',
    price_high_to_low: 'السعر: من الأعلى للأقل',
    stars: 'نجوم',
  },
  en: {
    processing: 'Processing...',
    nav_home: 'Home',
    nav_products: 'Products',
    nav_login: 'Login',
    nav_register: 'Register',
    nav_profile: 'Profile',
    nav_account: 'Account',
    nav_logout: 'Logout',
    nav_cart: 'Cart',

    footer_store: 'Shop',
    footer_help: 'Help',
    footer_newsletter: 'Newsletter',
    footer_privacy: 'Privacy',
    footer_terms: 'Terms',
    footer_cookies: 'Cookies',
    footer_all_rights: 'All rights reserved to Kashop.',
    footer_home: 'Home',
    footer_cart: 'Cart',
    footer_register: 'Register',
    footer_login: 'Login',
    footer_faq: 'FAQ',
    footer_returns: 'Returns',
    footer_shipping: 'Shipping',
    footer_contact: 'Contact',
    footer_subscribe_text: 'Subscribe to get the latest updates and offers.',
    footer_subscribe_btn: 'Subscribe',
    footer_email_placeholder: 'Your email address',

    lang_toggle: 'العربية',

    home_why_us: 'Why choose us?',
    home_features_desc: 'Features that make your shopping easier and better',
    feature_fast_shipping: 'Fast delivery',
    feature_fast_shipping_desc: 'We deliver your orders quickly',
    feature_secure_payment: 'Secure payment',
    feature_secure_payment_desc: 'Trusted, encrypted gateways',
    feature_easy_returns: 'Easy returns',
    feature_easy_returns_desc: 'Flexible return policy',
    feature_support: 'Support',
    feature_support_desc: '24/7 customer service',
    promo_title: 'Special offers this week',
    promo_subtitle: 'Discounts on selected products – don’t miss out!',
    promo_cta: 'Shop now',
    about_title: 'About us',
    about_p1: 'We are Kashop, a curated e-commerce experience with a smooth UI.',
    about_p2: 'Our goal is quality at the best price in a simple way.',
    about_stats_products: '+500 products',
    about_stats_customers: '+10k customers',
    about_stats_rating: '4.8+ rating',
    contact_title: 'Contact us',
    contact_subtitle: 'We’d love to hear from you – we’ll reply ASAP',
    contact_name: 'Name',
    contact_email: 'Email',
    contact_subject: 'Subject',
    contact_message: 'Message',
    contact_send: 'Send',
    contact_email_us: 'Email us',

    hero1_title: 'Up to 50% off our selections',
    hero1_sub: 'Shop now and get the strongest seasonal offers',
    hero1_cta: 'Start shopping',
    hero2_title: 'Smooth experience on all devices',
    hero2_sub: 'Clear Arabic UI with fast delivery and secure payments',
    hero2_cta: 'Explore products',
    hero3_title: 'Genuine products with warranty',
    hero3_sub: 'Rest assured! All products are guaranteed',
    hero3_cta: 'See offers',
    browse_categories: 'Browse Categories',

    add_to_cart: 'Add to cart',
    added_to_cart: 'Added',

    cart_title: 'Shopping Cart',
    back: 'Back',
    clear_cart: 'Clear cart',
    items_in_cart: (n) => `${n} items in cart`,
    browse_products: 'Browse products',
    subtotal: 'Subtotal',
    shipping_fee: 'Shipping',
    free: 'Free',
    add_for_free_shipping: (amount) => `Add ${amount}$ for free shipping`,
    total: 'Total',
    proceed_checkout: 'Proceed to checkout',
    continue_shopping: 'Continue shopping',

    // Auth
    login_title: 'Login',
    login_sub: 'Access your account to continue',
    email_label: 'Email',
    email_placeholder: 'Enter your email',
    password_label: 'Password',
    password_placeholder: 'Enter your password',
    remember_me: 'Remember me',
    forgot_password: 'Forgot Password?',
    login_btn: 'Log in',
    dont_have_account: "Don't have an account?",
    register_link: 'Register',
    login_pending: 'Processing...',
    login_success: 'Logged in successfully',
    login_failed: 'Login failed',

    register_title: 'Create account',
    register_sub: 'Join and start shopping smarter',
    full_name_label: 'Full name',
    full_name_placeholder: 'Your full name',
    username_label: 'Username',
    username_placeholder: 'Choose a username',
    phone_label: 'Phone number',
    phone_placeholder: '05XXXXXXXX',
    create_password_placeholder: 'Create a password',
    terms_text: 'I agree to the Terms and Privacy',
    register_btn: 'Register',
    already_have_account: 'Already have an account?',
    login_link: 'Log in',
    register_pending: 'Processing...',
    register_success: 'Registered successfully',
    register_failed: 'Registration failed',

    forgot_title: 'Forgot password',
    forgot_sub: "Enter your email and we'll send you a reset link.",
    send_reset_link: 'Send reset link',
    remembered_password: 'Remembered your password?',
    back_to_login: 'Back to Login',
    forgot_pending: 'Sending reset link...',
    forgot_success: 'Reset link sent successfully',
    forgot_failed: 'Failed to send reset link',

    reset_title: 'Reset password',
    reset_sub: 'Verify the code sent to your email, then set a new password.',
    code_label: 'Code',
    code_placeholder: 'Enter the code',
    new_password_label: 'New password',
    new_password_placeholder: 'Enter a new password',
    verify_code_btn: 'Verify code',
    verifying: 'Verifying...',
    set_new_password_btn: 'Set new password',
    reset_verify_pending: 'Verifying code...',
    reset_verify_success: 'Code verified, set a new password',
    reset_verify_failed: 'Invalid code',
    reset_pending: 'Updating password...',
    reset_success: 'Password updated. You can login now',
    reset_failed: 'Failed to update password',

    // Product
    product_loading: 'Loading...',
    product_not_available: 'Product not available',
    product_details: 'Product Details',
    product_details_subtitle: 'Discover all the details and features of this special product',
    fast_delivery: 'Fast delivery',
    fast_delivery_time: 'Within 24-48 hours',
    free_returns: 'Free returns',
    free_returns_time: 'Within 14 days',
    product_rating: 'Product rating',
    stars: 'stars',
    available_now: 'Available now',
    pieces: 'pieces',
    discount: 'Discount',
    why_choose_product: 'Why choose this product?',
    why_choose_desc: 'High quality product from {brand} in {category} category. Features modern design and excellent quality with complete satisfaction guarantee. {discount_text}',
    quantity: 'Quantity:',
    available: 'Available',
    total_price: 'Total price:',
    you_saved: 'You saved:',
    add_to_cart: 'Add to cart',
    added_to_cart: 'Added',
    buy_now: 'Buy now',
    similar_products: 'Similar products',
    total_price_mobile: 'Total price',
    added: 'Added',
    add: 'Add',
    copy_link: 'Link copied',
    add_for_free_shipping: 'Add for free shipping',

    // Products
    explore_products: 'Explore our products',
    explore_products_subtitle: 'Carefully selected collections with modern designs and high quality.',
    search: 'Search',
    price: 'Price',
    min_rating: 'Minimum rating',
    sort: 'Sort',
    offers_only: 'Offers only',
    all: 'All',
    results: 'Results',
    our_new: 'Our new',
    highest_rated: 'Highest rated',
    price_low_to_high: 'Price: Low to High',
    price_high_to_low: 'Price: High to Low',
    stars: 'stars',
  }
};

const LanguageContext = React.createContext({
  lang: 'ar',
  dir: 'rtl',
  t: (key) => key,
  setLang: (l) => {},
});

export function LanguageProvider({ children }) {
  const [lang, setLang] = React.useState(() => localStorage.getItem('lang') || 'ar');
  const dir = lang === 'ar' ? 'rtl' : 'ltr';

  React.useEffect(() => {
    try { localStorage.setItem('lang', lang); } catch {}
    document.documentElement.setAttribute('dir', dir);
  }, [lang, dir]);

  const t = React.useCallback((key) => {
    const dict = dictionaries[lang] || dictionaries.ar;
    return dict[key] ?? key;
  }, [lang]);

  const value = React.useMemo(() => ({ lang, dir, t, setLang }), [lang, dir, t]);

  return (
    <LanguageContext.Provider value={value}>
      {children}
    </LanguageContext.Provider>
  );
}

export function useLanguage() {
  return React.useContext(LanguageContext);
}


